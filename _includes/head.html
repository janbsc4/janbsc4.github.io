<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#1f242A">
  {% if page.description %}
    <meta name="description" content="{{ page.description }}">
  {% elsif site.description %}
    <meta name="description" content="{{ site.description }}">
  {% endif %}
  
  <title>
    {% if page.title %}
      {{ page.title }}
    {% else %}
      {{ site.title }}
    {% endif %}
  </title>
  {% feed_meta %}
  <script>
    // Immediately set the theme before the page renders to prevent white flash
    const theme = localStorage.getItem('theme');
    if (theme) {
      document.documentElement.setAttribute('data-theme', theme);
      // Also set the safari bar color instantly here if you want perfection
      if (theme === 'dark') {
        document.querySelector('meta[name="theme-color"]').setAttribute('content', '#1f242A');
      }
    }
  </script>

  <!-- Favicon -->
  <link rel="apple-touch-icon" sizes="180x180" href="{{ '/assets/favicon/apple-touch-icon.png' | relative_url }}">
  <link rel="icon" type="image/png" sizes="32x32" href="{{ '/assets/favicon/favicon-32x32.png' | relative_url }}">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ '/assets/favicon/favicon-16x16.png' | relative_url }}">
  <link rel="manifest" href="{{ '/assets/favicon/site.webmanifest' | relative_url }}">
  <!-- Favicon -->

  <link rel="stylesheet" href="{{"/assets/css/converted-css.css" | relative_url }}" data-turbo-track="reload"/>

  {% if site.theme_config.appearance_toggle %}
    {% include toggle_theme_js.html %}
  {% endif %}

  {%- include custom_head.html -%}

  <!-- Turbo Drive -->
  <script src="https://cdn.jsdelivr.net/npm/@hotwired/turbo@8.0.11/dist/turbo.es2017-umd.min.js" integrity="sha384-W9r5irrcU/3NGMyRz5PB5S/eyEznggxjg977tVsr4zjjlntKJLHa1zyFChn/lddk" crossorigin="anonymous"></script>
  <script src="{{ '/assets/js/turbo-config.js' | relative_url }}" defer></script>

  <!-- Goatcounter -->
  <script data-goatcounter="https://jan.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</head>
